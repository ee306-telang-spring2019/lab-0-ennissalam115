.ORIG x3000

	AND R0, R0, #0	;Clear all registers
	AND R1, R1, #0
	AND R2, R2, #0
	AND R3, R3, #0
	AND R4, R4, #0
	AND R5, R5, #0
	AND R6, R6, #0
	AND R7, R7, #0	;Clear all registers


	LDI R0, ENCRYPT	;Load R0 with encrypted text
	LDI R1, POINTER	;Load pointer of key into R1. How do we go to address of contents of R1???
	LDR R2, R1, #0	;Load R2 with contents of address in R1, R2 now containes key

;Now the work begins
;A XOR B = (A NAND (A NAND B)) NAND (B NAND (A NAND B))
	
	AND R3, R0, R2	;AND text with encrypter
	NOT R3, R3	;R3 is now R1 NAND R2
	AND R4, R3, R0	;Part 1
	NOT R4, R4	;Part 2 of (A NAND (A NAND B))
	
;R4 Contains left side of equation
;R3 contains A NAND B

	AND R5, R2, R3	;Part 1 of (B NAND (A NAND B))
	NOT R5, R5	;Part 2
;R5 now contains right side of equation
	
	AND R6, R4, R5
	NOT R6, R6

;R6 now contains unencrypted text

	STI R6, OUTPUT

ENCRYPT	.FILL x4000
POINTER	.FILL x4001
OUTPUT	.FILL x6000

	HALT
.END	


	
	
	
	
	
	